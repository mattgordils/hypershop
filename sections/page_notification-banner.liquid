{% if section.settings.text != blank %}
  <div
    id="notification-banner"
    class="theme-dark body-small flex items-center justify-center notification-banner px-margin text-center relative z-5"
  >
    <div class="py-1 min-h-[30px] flex items-center">
      <p class="pb-[.05em] text-balance justify-center">{{ section.settings.text }}</p>
    </div>
  </div>
  <script>
    (function() {
      const banner = document.getElementById('notification-banner');
      if (!banner) return;

      function updateBannerHeight() {
        const height = banner.offsetHeight;
        document.documentElement.style.setProperty('--header-banner-height', height + 'px');
      }

      // Update on load
      updateBannerHeight();

      // Update on resize
      const resizeObserver = new ResizeObserver(updateBannerHeight);
      resizeObserver.observe(banner);
    })();
  </script>
{% endif %}


{% schema %}
{
  "name": "Notification Banner",
  "class": "section-notification-banner",
  "settings": [
    {
      "type": "header",
      "content": "Banner Settings"
    },
    {
      "type": "inline_richtext",
      "id": "text",
      "default": "Deals, Deals, Deals!",
      "label": "Banner Text"
    }
  ],
  "blocks": []
}
{% endschema %}
