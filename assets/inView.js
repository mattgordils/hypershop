customElements.get("in-view")||customElements.define("in-view",class extends HTMLElement{constructor(){super(),new IntersectionObserver(e=>{e[0].isIntersecting&&this.classList.add("in-view")},{threshold:.1}).observe(this)}}),customElements.get("parallax-view")||customElements.define("parallax-view",class extends HTMLElement{constructor(){super(),this.ticking=!1,this.scrollEndTimer=null,this.observer=new IntersectionObserver(e=>{e[0].isIntersecting&&this.classList.add("in-view")},{threshold:.5})}connectedCallback(){this.onScrollHandler=this.onScroll.bind(this),window.addEventListener("scroll",this.onScrollHandler,{passive:!0}),requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.updateParallax()})}),"loading"===document.readyState&&window.addEventListener("load",()=>{this.updateParallax()},{once:!0})}disconnectedCallback(){window.removeEventListener("scroll",this.onScrollHandler),this.scrollEndTimer&&clearTimeout(this.scrollEndTimer)}onScroll(){this.ticking||(requestAnimationFrame(()=>{this.updateParallax(),this.ticking=!1}),this.ticking=!0),clearTimeout(this.scrollEndTimer),this.scrollEndTimer=setTimeout(()=>{this.updateParallax()},100)}parseMarginValue(e){if(!e)return 0;const t=e.trim(),i=parseFloat(t);return t.endsWith("%")?i/100*this.offsetHeight:t.endsWith("vw")?i/100*window.innerWidth:t.endsWith("vh")?i/100*window.innerHeight:i}updateParallax(){const e=window.innerHeight,t=window.scrollY,i=this.offsetTop,s=this.parseMarginValue(this.dataset.marginTop||this.dataset.margin),n=this.parseMarginValue(this.dataset.marginBottom||this.dataset.margin);let r=(t+e-i-s)/(e+this.offsetHeight+s+n);r<.02?r=0:r>.98&&(r=1),r>=0&&r<=1&&this.style.setProperty("--percentage",r)}});