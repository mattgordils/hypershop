(()=>{"use strict";const t=(t=!1)=>{fetch(window.Shopify.routes.root+"?sections=cart").then((t=>t.json())).then((e=>{var n,r;const o=document.querySelector("#shopify-section-cart #cartContent"),c=document.querySelector("#shopify-section-cart #cartHeader");var a=document.createElement("div");a.innerHTML=e.cart;const i=document.querySelector("#shopify-section-cart #cartHeader").dataset.cartCount,u=a.querySelector("#cartHeader").dataset.cartCount,s=null==(n=document.querySelectorAll("#shopify-section-cart #cartLineItem"))?void 0:n.length,l=null==(r=a.querySelectorAll("#shopify-section-cart #cartLineItem"))?void 0:r.length;if(0!=u&&0!=i&&s===l||(t=!0),t){const t=a.querySelector("#cartContent"),e=a.querySelector("#cartHeader");o.outerHTML=t.outerHTML,c.outerHTML=e.outerHTML}else{const t=document.querySelectorAll("#shopify-section-cart #cartUpdate"),e=a.querySelectorAll("#shopify-section-cart #cartUpdate");t.forEach(((t,n)=>{t.innerHTML=e[n].innerHTML}))}document.querySelectorAll("#cartCount").forEach((t=>{t.innerHTML=u}))}))};customElements.get("cart-remove-item")||customElements.define("cart-remove-item",class extends HTMLElement{constructor(){super(),this.cartRemoveButton=this.querySelector(".cart-remove-item"),this.cartRemoveButton.addEventListener("click",(e=>{let n={updates:{[e.currentTarget.dataset.itemId]:0}};fetch(window.Shopify.routes.root+"cart/update.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((e=>{t(!0)})).catch((t=>{console.error("Error:",t)}))}))}}),customElements.get("cart-quantity-adjust")||customElements.define("cart-quantity-adjust",class extends HTMLElement{constructor(){super(),this.quantityChangeButtons=this.querySelectorAll(".quantity-change"),this.onQuantityChangeButtonClick=this.onQuantityChangeButtonClick.bind(this),this.quantityChangeButtons.forEach((t=>{t.onclick=this.onQuantityChangeButtonClick}))}onQuantityChangeButtonClick(e){const n=e.currentTarget;this.getQuantityDivFromChangeButton(n).classList.add("opacity-0");const r=parseInt(n.getAttribute("data-product-id")),o=parseInt(n.getAttribute("data-new-quantity"));let c={updates:{[r]:o}},a=t=>{const e=n.parentElement;return this.getQuantityDivFromChangeButton(n).innerHTML=o,this.getQuantityDivFromChangeButton(n).classList.remove("opacity-0"),e.querySelector(".quantity-down").setAttribute("data-new-quantity",o-1),e.querySelector(".quantity-up").setAttribute("data-new-quantity",o+1),t.json()};a=a.bind(n),fetch(window.Shopify.routes.root+"cart/update.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((t=>a(t))).then((e=>{t(),document.querySelectorAll(".cart-item-count").forEach((t=>{t.innerHTML=e.item_count}))})).catch((t=>{console.error("Error:",t)}))}getQuantityDivFromChangeButton(t){return t.parentElement.querySelector(".quantity-current")}})})();