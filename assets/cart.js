(()=>{"use strict";const t=(t=!1)=>{if(!document.querySelector("#shopify-section-cart #cartContent"))return!1;fetch(window.Shopify.routes.root+"?sections=cart").then(t=>t.json()).then(e=>{const n=document.querySelector("#shopify-section-cart #cartContent");document.querySelector("#shopify-section-cart #cartHeader");var r=document.createElement("div");r.innerHTML=e.cart;const o=document.querySelector("#shopify-section-cart #cartHeader").dataset.cartCount,c=r.querySelector("#cartHeader").dataset.cartCount,a=document.querySelectorAll("#shopify-section-cart #cartLineItem")?.length,i=r.querySelectorAll("#shopify-section-cart #cartLineItem")?.length;if(0!=c&&0!=o&&a===i||(t=!0),t){const t=r.querySelector("#cartContent");n.outerHTML=t.outerHTML}else{const t=document.querySelectorAll("#shopify-section-cart #cartUpdate"),e=r.querySelectorAll("#shopify-section-cart #cartUpdate");t.forEach((t,n)=>{t.innerHTML=e[n].innerHTML})}document.querySelectorAll("#cartCount").forEach(t=>{t.innerHTML=c})})};customElements.get("cart-remove-item")||customElements.define("cart-remove-item",class extends HTMLElement{constructor(){super(),this.cartRemoveButton=this.querySelector(".cart-remove-item"),this.cartRemoveButton.addEventListener("click",e=>{let n={updates:{[e.currentTarget.dataset.itemId]:0}};if(e.currentTarget.dataset.itemId.includes(", ")){const t=e?.currentTarget?.dataset?.itemId.split(", ")?.filter(t=>""!==t),r={};t.length>0&&t.forEach(t=>{r[t]=0}),n={updates:r}}fetch(window.Shopify.routes.root+"cart/update.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(e=>{t(!0)}).catch(t=>{console.error("Error:",t)})})}}),customElements.get("cart-quantity-adjust")||customElements.define("cart-quantity-adjust",class extends HTMLElement{constructor(){super(),this.quantityChangeButtons=this.querySelectorAll(".quantity-change"),this.onQuantityChangeButtonClick=this.onQuantityChangeButtonClick.bind(this),this.quantityChangeButtons.forEach(t=>{t.onclick=this.onQuantityChangeButtonClick})}onQuantityChangeButtonClick(e){const n=e.currentTarget;this.getQuantityDivFromChangeButton(n).classList.add("opacity-0");const r=parseInt(n.getAttribute("data-product-id")),o=parseInt(n.getAttribute("data-new-quantity"));let c={updates:{[r]:o}},a=t=>{const e=n.parentElement;return this.getQuantityDivFromChangeButton(n).innerHTML=o,this.getQuantityDivFromChangeButton(n).classList.remove("opacity-0"),e.querySelector(".quantity-down").setAttribute("data-new-quantity",o-1),e.querySelector(".quantity-up").setAttribute("data-new-quantity",o+1),t.json()};a=a.bind(n),fetch(window.Shopify.routes.root+"cart/update.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then(t=>a(t)).then(e=>{t(),document.querySelectorAll(".cart-item-count").forEach(t=>{t.innerHTML=e.item_count})}).catch(t=>{console.error("Error:",t)})}getQuantityDivFromChangeButton(t){return t.parentElement.querySelector(".quantity-current")}})})();